<!doctype html>
<html class="no-js" lang="zxx">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>News  HTML-5 Template </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="manifest" href="site.webmanifest">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">

    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/ticker-style.css">
    <link rel="stylesheet" href="assets/css/flaticon.css">
    <link rel="stylesheet" href="assets/css/slicknav.css">
    <link rel="stylesheet" href="assets/css/animate.min.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/css/themify-icons.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/nice-select.css">
    <link rel="stylesheet" href="assets/css/style.css">
</head>

<body>
    <!-- Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="assets/img/logo/logo.png" alt="">
                </div>
            </div>
        </div>
    </div>
    <!-- Preloader Start-->
    <!-- Header Start -->
    <div class="header-area">
        <div class="main-header ">
            <div class="header-top black-bg d-none d-sm-block">
                <div class="container">
                    <div class="col-xl-12">
                        <div class="row d-flex justify-content-between align-items-center">
                            <div class="header-info-left">
                                <ul>     
                                    <li class="title"><span class="flaticon-energy"></span> Actualités en temps réel</li>
                                    <li>Agrégateur de nouvelles internationales</li>
                                </ul>
                            </div>
                            <div class="header-info-right">
                                <ul class="header-date">
                                    <li><span class="flaticon-calendar"></span> <span id="current-date"></span></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-mid gray-bg">
                <div class="container">
                    <div class="row d-flex align-items-center">
                        <!-- Logo -->
                        <div class="col-xl-3 col-lg-3 col-md-3 d-none d-md-block">
                            <div class="logo">
                                <a href="index.html"><img src="assets/img/logo/logo.png" alt=""></a>
                            </div>
                        </div>
                        <div class="col-xl-9 col-lg-9 col-md-9">
                            <div class="header-banner f-right ">
                                <img src="assets/img/gallery/header_card.png" alt="">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-bottom header-sticky">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-xl-8 col-lg-8 col-md-12 header-flex">
                            <!-- sticky -->
                            <div class="sticky-logo">
                                <a href="index.html"><img src="assets/img/logo/logo.png" alt=""></a>
                            </div>
                            <!-- Main-menu -->
                            <div class="main-menu d-none d-md-block">
                                <nav>                  
                                    <ul id="navigation">
                                        <li><a href="index.html">Home</a></li>
                                        <li><a href="about.html">about</a></li>
                                        <li><a href="#">Pages</a>
                                            <ul class="submenu">
                                                <li><a href="blog.html">Blog</a></li>
                                                <li><a href="blog_details.html">Blog Details</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>             
                        <!-- Mobile Menu -->
                        <div class="col-12">
                            <div class="mobile_menu d-block d-md-none"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Header End -->
    <!--================Blog Area =================-->
    <section class="blog_area section-padding">
        <div class="container">
            <div class="row">
                <div class="col-12 mb-4">
                    <a href="add-blog.html" class="btn btn-success">Ajouter un blog</a>
                </div>
                <div class="col-lg-8 mb-5 mb-lg-0">
                    <div class="blog_left_sidebar">
                        <!-- Loader pour les articles -->
                        <div id="blog-loader" class="text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="sr-only">Chargement...</span>
                            </div>
                            <p class="mt-3">Chargement des articles...</p>
                        </div>
                        
                        <!-- Conteneur pour les articles dynamiques -->
                        <div id="blog-posts-container">
                            <!-- Les articles seront chargés ici dynamiquement -->
                        </div>
                        
                        <!-- Pagination dynamique -->
                        <nav id="blog-pagination" class="blog-pagination justify-content-center d-flex" style="display: none;">
                            <ul class="pagination">
                                <!-- La pagination sera générée dynamiquement -->
                            </ul>
                        </nav>
                    </div>
                </div>


                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="blog_right_sidebar">
                        <aside class="single_sidebar_widget search_widget">
                            <form action="#">
                                <div class="form-group">
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control" placeholder='Search Keyword'
                                            onfocus="this.placeholder = ''"
                                            onblur="this.placeholder = 'Search Keyword'">
                                        <div class="input-group-append">
                                            <button class="btns" type="button"><i class="ti-search"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <button class="button rounded-0 primary-bg text-white w-100 btn_1 boxed-btn"
                                    type="submit">Search</button>
                            </form>
                        </aside>

                        <aside class="single_sidebar_widget post_category_widget">
                            <h4 class="widget_title">Category</h4>
                            <ul class="list cat-list">
                                <li>
                                    <a href="#" class="d-flex">
                                        <p>Resaurant food</p>
                                        <p>(37)</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="d-flex">
                                        <p>Travel news</p>
                                        <p>(10)</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="d-flex">
                                        <p>Modern technology</p>
                                        <p>(03)</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="d-flex">
                                        <p>Product</p>
                                        <p>(11)</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="d-flex">
                                        <p>Inspiration</p>
                                        <p>21</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#" class="d-flex">
                                        <p>Health Care (21)</p>
                                        <p>09</p>
                                    </a>
                                </li>
                            </ul>
                        </aside>

                        <aside class="single_sidebar_widget popular_post_widget">
                            <h3 class="widget_title">Recent Post</h3>
                            <div class="popular-posts-dynamic"></div>
                        </aside>
                        <aside class="single_sidebar_widget tag_cloud_widget">
                            <h4 class="widget_title">Tag Clouds</h4>
                            <ul class="list">
                                <li>
                                    <a href="#">project</a>
                                </li>
                                <li>
                                    <a href="#">love</a>
                                </li>
                                <li>
                                    <a href="#">technology</a>
                                </li>
                                <li>
                                    <a href="#">travel</a>
                                </li>
                                <li>
                                    <a href="#">restaurant</a>
                                </li>
                                <li>
                                    <a href="#">life style</a>
                                </li>
                                <li>
                                    <a href="#">design</a>
                                </li>
                                <li>
                                    <a href="#">illustration</a>
                                </li>
                            </ul>
                        </aside>


                        <aside class="single_sidebar_widget instagram_feeds">
                            <h4 class="widget_title">Instagram Feeds</h4>
                            <ul class="instagram_row flex-wrap">
                                <li>
                                    <a href="#">
                                        <img class="img-fluid" src="assets/img/post/post_5.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="img-fluid" src="assets/img/post/post_6.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="img-fluid" src="assets/img/post/post_7.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="img-fluid" src="assets/img/post/post_8.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="img-fluid" src="assets/img/post/post_9.png" alt="">
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img class="img-fluid" src="assets/img/post/post_10.png" alt="">
                                    </a>
                                </li>
                            </ul>
                        </aside>


                        <aside class="single_sidebar_widget newsletter_widget">
                            <h4 class="widget_title">Newsletter</h4>

                            <form action="#">
                                <div class="form-group">
                                    <input type="email" class="form-control" onfocus="this.placeholder = ''"
                                        onblur="this.placeholder = 'Enter email'" placeholder='Enter email' required>
                                </div>
                                <button class="button rounded-0 primary-bg text-white w-100 btn_1 boxed-btn"
                                    type="submit">Subscribe</button>
                            </form>
                        </aside>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--================Blog Area =================-->
    <footer>
        <!-- Footer Start-->
        <div class="footer-main footer-bg">
            <div class="footer-area footer-padding">
                <div class="container">
                    <div class="row d-flex justify-content-between">
                        <div class="col-xl-3 col-lg-3 col-md-5 col-sm-8">
                            <div class="single-footer-caption mb-50">
                                <div class="single-footer-caption mb-30">
                                    <!-- logo -->
                                    <div class="footer-logo">
                                        <a href="index.html"><img src="assets/img/logo/logo2_footer.png" alt=""></a>
                                    </div>
                                    <div class="footer-tittle">
                                        <div class="footer-pera">
                                            <p class="info1">Lorem ipsum dolor sit amet, nsectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.</p>
                                            <p class="info2">198 West 21th Street, Suite 721 New York,NY 10010</p>
                                            <p class="info2">Phone: +95 (0) 123 456 789 Cell: +95 (0) 123 456 789</p>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-4 col-lg-4 col-md-5 col-sm-7">
                            <div class="single-footer-caption mb-50">
                                <div class="footer-tittle">
                                    <h4>Popular post</h4>
                                </div>
                                <!-- Popular post -->
                                <div class="whats-right-single mb-20">
                                    <div class="whats-right-img">
                                        <img src="assets/img/gallery/footer_post1.png" alt="">
                                    </div>
                                    <div class="whats-right-cap">
                                        <h4><a href="details.html">Scarlett’s disappointment at latest accolade</a></h4>
                                        <p>Jhon  |  2 hours ago</p> 
                                    </div>
                                </div>
                                <!-- Popular post -->
                                <div class="whats-right-single mb-20">
                                    <div class="whats-right-img">
                                        <img src="assets/img/gallery/footer_post2.png" alt="">
                                    </div>
                                    <div class="whats-right-cap">
                                        <h4><a href="details.html">Scarlett’s disappointment at latest accolade</a></h4>
                                        <p>Jhon  |  2 hours ago</p> 
                                    </div>
                                </div>
                                <!-- Popular post -->
                                <div class="whats-right-single mb-20">
                                    <div class="whats-right-img">
                                        <img src="assets/img/gallery/footer_post3.png" alt="">
                                    </div>
                                    <div class="whats-right-cap">
                                        <h4><a href="details.html">Scarlett’s disappointment at latest accolade</a></h4>
                                        <p>Jhon  |  2 hours ago</p> 
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-lg-3 col-md-5 col-sm-7">
                            <div class="single-footer-caption mb-50">
                                <div class="banner">
                                    <img src="assets/img/gallery/body_card4.png" alt="">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- footer-bottom aera -->
            <div class="footer-bottom-area footer-bg">
                <div class="container">
                    <div class="footer-border">
                            <div class="row d-flex align-items-center">
                                <div class="col-xl-12 ">
                                    <div class="footer-copy-right text-center">
                                        <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
  <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
                                    </div>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End-->
    </footer>
    <!-- Search model Begin -->
    <div class="search-model-box">
        <div class="d-flex align-items-center h-100 justify-content-center">
            <div class="search-close-btn">+</div>
            <form class="search-model-form">
                <input type="text" id="search-input" placeholder="Searching key.....">
            </form>
        </div>
    </div>
    <!-- Search model end -->

    <!-- JS here -->

    <script src="./assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="./assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="./assets/js/popper.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>
    <!-- Jquery Mobile Menu -->
    <script src="./assets/js/jquery.slicknav.min.js"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="./assets/js/owl.carousel.min.js"></script>
    <script src="./assets/js/slick.min.js"></script>

    <!-- One Page, Animated-HeadLin -->
    <script src="./assets/js/wow.min.js"></script>
    <script src="./assets/js/animated.headline.js"></script>
    
    <!-- Scrollup, nice-select, sticky -->
    <script src="./assets/js/jquery.scrollUp.min.js"></script>
    <script src="./assets/js/jquery.nice-select.min.js"></script>
    <script src="./assets/js/jquery.sticky.js"></script>
    <script src="./assets/js/jquery.magnific-popup.js"></script>

    <!-- contact js -->
    <script src="./assets/js/contact.js"></script>
    <script src="./assets/js/jquery.form.js"></script>
    <script src="./assets/js/jquery.validate.min.js"></script>
    <script src="./assets/js/mail-script.js"></script>
    <script src="./assets/js/jquery.ajaxchimp.min.js"></script>
    
    <!-- Jquery Plugins, main Jquery -->	
    <script src="./assets/js/plugins.js"></script>
    <script src="./assets/js/main.js"></script>

    <!-- Blog Dynamic JavaScript -->
    <script>
        // Variables globales
        let currentPage = 1;
        let currentCategory = '';
        let blogPosts = [];
        let categories = [];
        let popularPosts = [];

        // Fonction pour formater la date
        function formatDate(dateString) {
            const date = new Date(dateString);
            const day = date.getDate();
            const month = date.toLocaleDateString('fr-FR', { month: 'short' });
            return { day, month };
        }

        // Fonction pour charger les articles de blog
        async function loadBlogPosts(page = 1, category = '') {
            try {
                showLoader();
                
                let url = `/blog/posts?page=${page}&limit=6`;
                if (category) {
                    url += `&category=${category}`;
                }
                
                console.log(`📡 Requête: ${url}`);
                const response = await fetch(url);
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}: ${response.statusText}`);
                }
                
                const data = await response.json();
                
                blogPosts = data.posts;
                currentPage = data.page;
                
                renderBlogPosts();
                renderPagination(data);
                hideLoader();
                
                console.log(`📝 Articles chargés: ${data.posts.length}/${data.total} (page ${data.page}/${data.totalPages})`);
                
                // Mettre à jour l'URL sans recharger la page
                const urlParams = new URLSearchParams(window.location.search);
                urlParams.set('page', page);
                if (category) {
                    urlParams.set('category', category);
                } else {
                    urlParams.delete('category');
                }
                const newUrl = `${window.location.pathname}?${urlParams.toString()}`;
                window.history.pushState({}, '', newUrl);
                
            } catch (error) {
                console.error('❌ Erreur chargement articles:', error);
                showError('Erreur lors du chargement des articles');
                hideLoader();
            }
        }

        // Fonction pour charger les catégories
        async function loadCategories() {
            try {
                const response = await fetch('/blog/categories');
                categories = await response.json();
                renderCategories();
            } catch (error) {
                console.error('❌ Erreur chargement catégories:', error);
            }
        }

        // Fonction pour charger les articles populaires
        async function loadPopularPosts() {
            try {
                const response = await fetch('/blog/popular');
                popularPosts = await response.json();
                renderPopularPosts();
            } catch (error) {
                console.error('❌ Erreur chargement articles populaires:', error);
            }
        }

        // Fonction pour rendre les articles
        function renderBlogPosts() {
            const container = document.getElementById('blog-posts-container');
            
            if (!blogPosts || blogPosts.length === 0) {
                container.innerHTML = `
                    <div class="text-center py-5">
                        <h4>Aucun article trouvé</h4>
                        <p>Essayez de changer de catégorie ou de page</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = blogPosts.map(post => {
                const date = formatDate(post.publish_date);
                return `
                    <article class="blog_item">
                        <div class="blog_item_img">
                            <img class="card-img rounded-0" src="${post.image}" alt="${post.title}" 
                                 style="width:100%;height:300px;object-fit:cover;" 
                                 onerror="this.src='assets/img/blog/single_blog_1.png'">
                            <a href="#" class="blog_item_date">
                                <h3>${date.day}</h3>
                                <p>${date.month}</p>
                            </a>
                        </div>
                        <div class="blog_details">
                            <a class="d-inline-block" href="blog-details.html?id=${post.id}">
                                <h2>${post.title}</h2>
                            </a>
                            <p>${post.excerpt}</p>
                            <ul class="blog-info-link">
                                <li><a href="#"><i class="fa fa-user"></i> ${post.category}</a></li>
                                <li><a href="#"><i class="fa fa-comments"></i> ${post.comments_count} Commentaires</a></li>
                                <li><a href="#"><i class="fa fa-clock"></i> ${post.read_time}</a></li>
                            </ul>
                        </div>
                    </article>
                `;
            }).join('');
        }

        // Fonction pour rendre la pagination
        function renderPagination(data) {
            const pagination = document.getElementById('blog-pagination');
            const paginationList = pagination.querySelector('ul');
            
            console.log('📄 Rendu pagination:', data);
            
            if (data.totalPages <= 1) {
                pagination.style.display = 'none';
                return;
            }
            
            pagination.style.display = 'flex';
            
            let paginationHTML = '';
            
            // Bouton précédent
            if (data.hasPrev) {
                paginationHTML += `
                    <li class="page-item">
                        <a href="#" class="page-link" onclick="changePage(${data.page - 1}); return false;" aria-label="Previous">
                            <i class="ti-angle-left"></i>
                        </a>
                    </li>
                `;
            }
            
            // Pages avec logique intelligente
            const startPage = Math.max(1, data.page - 2);
            const endPage = Math.min(data.totalPages, data.page + 2);
            
            // Première page si pas visible
            if (startPage > 1) {
                paginationHTML += `
                    <li class="page-item">
                        <a href="#" class="page-link" onclick="changePage(1); return false;">1</a>
                    </li>
                `;
                if (startPage > 2) {
                    paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
                }
            }
            
            // Pages principales
            for (let i = startPage; i <= endPage; i++) {
                const isActive = i === data.page ? 'active' : '';
                paginationHTML += `
                    <li class="page-item ${isActive}">
                        <a href="#" class="page-link" onclick="changePage(${i}); return false;">${i}</a>
                    </li>
                `;
            }
            
            // Dernière page si pas visible
            if (endPage < data.totalPages) {
                if (endPage < data.totalPages - 1) {
                    paginationHTML += `<li class="page-item disabled"><span class="page-link">...</span></li>`;
                }
                paginationHTML += `
                    <li class="page-item">
                        <a href="#" class="page-link" onclick="changePage(${data.totalPages}); return false;">${data.totalPages}</a>
                    </li>
                `;
            }
            
            // Bouton suivant
            if (data.hasNext) {
                paginationHTML += `
                    <li class="page-item">
                        <a href="#" class="page-link" onclick="changePage(${data.page + 1}); return false;" aria-label="Next">
                            <i class="ti-angle-right"></i>
                        </a>
                    </li>
                `;
            }
            
            paginationList.innerHTML = paginationHTML;
            console.log('✅ Pagination rendue avec succès');
        }

        // Fonction pour changer de page
        function changePage(page) {
            console.log(`🔄 Changement vers la page ${page}`);
            currentPage = page;
            loadBlogPosts(page, currentCategory);
            
            // Scroll vers le haut de la page
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Fonction pour changer de catégorie
        function changeCategory(category) {
            currentCategory = category;
            currentPage = 1;
            loadBlogPosts(1, category);
        }

        // Fonction pour rendre les catégories
        function renderCategories() {
            const categoryWidget = document.querySelector('.post_category_widget .list');
            if (!categoryWidget) return;
            
            categoryWidget.innerHTML = categories.map(cat => `
                <li>
                    <a href="#" onclick="changeCategory('${cat.name}')" class="d-flex">
                        <p>${cat.name}</p>
                        <p>(${cat.count})</p>
                    </a>
                </li>
            `).join('');
        }

        // Fonction pour rendre les articles populaires
        function renderPopularPosts() {
            const popularWidget = document.querySelector('.popular_post_widget .popular-posts-dynamic');
            if (!popularWidget) return;
            
            popularWidget.innerHTML = popularPosts.map(post => `
                <div class="media">
                    <div class="media-body">
                        <h3><a href="blog-details.html?id=${post.id}">${post.title}</a></h3>
                        <p>${post.views} vues</p>
                    </div>
                </div>
            `).join('');
        }

        // Fonction pour la recherche
        async function searchPosts(query) {
            try {
                const response = await fetch(`/blog/search?q=${encodeURIComponent(query)}`);
                const data = await response.json();
                
                if (data.results.length > 0) {
                    blogPosts = data.results;
                    renderBlogPosts();
                    document.getElementById('blog-pagination').style.display = 'none';
                } else {
                    document.getElementById('blog-posts-container').innerHTML = `
                        <div class="text-center py-5">
                            <h4>Aucun résultat trouvé</h4>
                            <p>Aucun article ne correspond à "${query}"</p>
                        </div>
                    `;
                }
            } catch (error) {
                console.error('❌ Erreur recherche:', error);
            }
        }

        // Fonction pour afficher le loader
        function showLoader() {
            document.getElementById('blog-loader').style.display = 'block';
            document.getElementById('blog-posts-container').style.display = 'none';
        }

        // Fonction pour masquer le loader
        function hideLoader() {
            document.getElementById('blog-loader').style.display = 'none';
            document.getElementById('blog-posts-container').style.display = 'block';
        }

        // Fonction pour afficher une erreur
        function showError(message) {
            document.getElementById('blog-posts-container').innerHTML = `
                <div class="text-center py-5">
                    <h4>Erreur</h4>
                    <p>${message}</p>
                </div>
            `;
        }

        // Fonction pour obtenir les paramètres de l'URL
        function getUrlParams() {
            const urlParams = new URLSearchParams(window.location.search);
            return {
                page: parseInt(urlParams.get('page')) || 1,
                category: urlParams.get('category') || ''
            };
        }

        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🚀 Initialisation de la page blog dynamique...');
            
            // Récupérer les paramètres de l'URL
            const params = getUrlParams();
            currentPage = params.page;
            currentCategory = params.category;
            
            console.log(`📄 Paramètres initiaux: page=${currentPage}, category=${currentCategory}`);
            
            // Charger les données initiales
            loadBlogPosts(currentPage, currentCategory);
            loadCategories();
            loadPopularPosts();
            
            // Configurer la recherche
            const searchForm = document.querySelector('.search_widget form');
            if (searchForm) {
                searchForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    const searchInput = this.querySelector('input[type="text"]');
                    const query = searchInput.value.trim();
                    
                    if (query) {
                        searchPosts(query);
                    }
                });
            }
            
            console.log('✅ Page blog initialisée avec succès !');
        });
    </script>

</body>
</html>